<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Список пользователей</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body>
<nav th:replace="~{navbar :: navbar}"></nav>
<div class="container mt-4">
    <div class="row">
        <div class="col-12">
            <!-- Заголовок и кнопка добавления -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h1 class="h3 mb-0">Список пользователей</h1>
        <!--        <a href="#" class="btn btn-primary">-->
        <!--            <i class="bi bi-plus-circle"></i> Добавить пользователя-->
        <!--        </a>-->
            </div>

            <!-- Таблица пользователей -->
            <div class="card shadow-sm">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover table-striped mb-0">
                            <thead class="table-light">
                            <tr>
                                <th scope="col" class="ps-4">ID</th>
                                <th scope="col">Логин пользователя</th>
                                <th scope="col">Имя</th>
                                <th scope="col">Фамилия</th>
                                <th scope="col">Роли</th>
                                <th scope="col" class="text-center">Действия</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="user : ${users}">
                                <td class="ps-4 fw-bold" th:text="${user.id}">1</td>
                                <td th:text="${user.username}">username</td>
                                <td th:text="${user.firstName}">Имя</td>
                                <td th:text="${user.lastName}">Фамилия</td>
                                <td>
                                    <th:block th:each="role : ${user.roles}">
                                        <span th:switch="${role.name.name}" class="badge me-2">
                                            <span th:case="ROLE_ADMIN" class="bg-success" th:text="${role.name}">ROLE_ADMIN</span>
                                            <span th:case="ROLE_USER" class="bg-primary" th:text="${role.name}">ROLE_USER</span>
                                            <span th:case="ROLE_READ_ONLY" class="bg-secondary" th:text="${role.name}">ROLE_READ_ONLY</span>
                                        </span>
                                    </th:block>
                                </td>
                                <td class="text-center">
                                    <div class="btn-group btn-group-sm" role="group">
                                        <a th:href="@{/admin/users/updateUser(id=${user.id})}"
                                           class="btn btn-outline-primary"
                                           title="Редактировать">
                                            <i class="bi bi-pencil"></i>
                                        </a>
                                        <a th:href="@{/admin/users/deleteUser(id=${user.id})}"
                                           class="btn btn-outline-danger"
                                           title="Удалить"
                                           onclick="return confirm('Вы уверены, что хотите удалить этого пользователя?')">
                                            <i class="bi bi-trash"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Пагинация -->
<!--    <nav aria-label="Навигация по страницам" class="mt-4">-->
<!--        <ul class="pagination justify-content-center">-->
<!--            <li class="page-item disabled">-->
<!--                <a class="page-link" href="#" tabindex="-1">Предыдущая</a>-->
<!--            </li>-->
<!--            <li class="page-item active"><a class="page-link" href="#">1</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--            <li class="page-item">-->
<!--                <a class="page-link" href="#">Следующая</a>-->
<!--            </li>-->
<!--        </ul>-->
<!--    </nav>-->
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
    .table th {
        border-top: none;
        font-weight: 600;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: #6c757d;
    }

    .badge {
        font-size: 0.7rem;
        font-weight: 500;
    }

    .btn-group-sm > .btn {
        padding: 0.25rem 0.5rem;
    }

    .card {
        border: none;
        border-radius: 0.5rem;
    }

    .table-hover tbody tr:hover {
        background-color: rgba(0, 0, 0, 0.025);
    }

    .page-link {
        border-radius: 0.375rem;
        margin: 0 0.125rem;
    }
</style>
</body>
</html>